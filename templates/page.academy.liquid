<style>
  /* ########## HERO ########## */
  .products-hero {
    position: relative;
    height: auto !important;
    color: #fff;
    display: flex;
    align-items: center;
  }

  .products-hero__container {
    padding: 100px 25px;
    width: 100%;
  }

  .products-hero__left {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    max-width: 36.667vw;
  }

  .products-hero__blueBg {
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    z-index: -1;
    width: 100%;
    object-fit: cover;
    object-position: right;
  }

  .products-hero__picture {
    position: absolute;
    top: 0;
    right: 0;
    width: 100%;
    object-fit: cover;
    height: 100%;
    z-index: -2;
    right: -5%;
  }

  .products-hero__subtitle {
    color: #fff;
    text-shadow: 0px 4px 44px rgba(0, 0, 78, 0.25);
    font-family: "Bodoni Moda", serif;
    font-size: 18px;
    font-style: normal;
    font-weight: 700;
    line-height: 100%;
    letter-spacing: 1.62px;
    text-transform: uppercase;
  }

  .slideSubtitle {
    color: #FFF;
    font-family: "Open Sans", sans-serif;
    font-size: clamp(16px, 1.375vw, 22px);
    font-style: normal;
    font-weight: 600;
    line-height: 140%;
    text-transform: uppercase;
    margin: 0 0 30px;
  }

  .products-hero__button {
    color: #FFF;
    text-align: center;
    font-family: "Open Sans";
    font-size: 16px;
    font-style: normal;
    font-weight: 400;
    line-height: 22px;
    text-transform: uppercase;
    display: flex;
    padding: 15px 70px;
    align-items: center;
    gap: 10px;
    border: 1px solid #FFF;
  }

  .swiper {
    width: 100%;
    height: 100%;
  }

  .swiper .swiper-slide {
    height: auto;
    align-items: center;
    display: flex;
  }

  .swiper-wrapper {
    height: auto !important;
  }

  /* Laptop */
  @media screen and (max-width: 1599px) {
    .swiper .swiper-slide {
      display: flex;
      flex-direction: column-reverse;
    }

    .products-hero {
      aspect-ratio: unset;
      display: flex;
      align-items: center;
    }

    .products-hero__left {
      display: flex;
      align-items: flex-start;
      max-width: 75%;
    }

    .products-hero__container {
      background: rgb(0 0 78 / 80%);
      height: 100%;
      display: flex;
      align-items: center;
    }

    .products-hero__picture {
      width: 100%;
      object-fit: cover;
      height: 100%;
      z-index: -2;
      right: 0;
      object-position: right;
    }

    .products-hero__blueBg {
      display: none;
    }
  }

  /* Mobile */
  @media screen and (max-width: 600px) {
    .products-hero__left {
      max-width: 100%;
    }

    .products-hero__title {
      font-size: 40px;
    }

    .products-hero__container {
      padding: 50px 25px;
    }

    .products-hero__text {
      font-size: 16px;
      line-height: 1.5;
    }
  }

  /* STORY */
  .academy-story {
    background: url('https://cdn.shopify.com/s/files/1/0892/7651/4595/files/bg_1.jpg?v=1724999756');
    background-size: cover;
    background-position: center;
  }

  .academy-story__container {
    padding: 100px 25px;
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .academy-story__topText {
    color: #000;
    text-align: center;
    font-family: "Open Sans", sans-serif;
    font-size: 24px;
    font-style: normal;
    font-weight: 400;
    line-height: normal;
    letter-spacing: 3.6px;
    margin: 0 0 10px;
  }

  .academy-story__title {
    color: #000;
    text-align: center;
    font-family: "Playfair Display", serif;
    text-transform: uppercase;
    margin: 0 0 40px;
  }

  .academy-story__subtitle {
    color: #000;
    text-align: center;
    font-family: "Open Sans", sans-serif;
    font-size: 26px;
    font-style: normal;
    font-weight: 600;
    line-height: normal;
    text-transform: uppercase;
    margin: 0 0 20px;
  }

  .academy-story__text {
    color: #111;
    text-align: center;
    margin: 0 auto 50px;
    max-width: 812px;
  }

  .academy-story__link {
    color: #FFF;
    text-align: center;
    font-family: "Open Sans", sans-serif;
    font-size: 16px;
    font-style: normal;
    font-weight: 400;
    line-height: normal;
    text-transform: uppercase;
    display: flex;
    padding: 15px 70px;
    justify-content: center;
    align-items: center;
    gap: 10px;
    background: #00004E;
    transition: .5s;
  }

  .academy-story__link:hover {
    background: #332CB1;
    color: #fff;
    transition: .5s;
  }

  /* COURSE */
  .academy-course__container {
    padding: 100px 25px;
  }

  .academy-course__topText {
    display: block;
    color: #DF1616;
    text-align: center;
    text-shadow: 0px 4px 44px rgba(0, 0, 78, 0.25);
    font-family: "Open Sans", sans-serif;
    font-size: 18px;
    font-style: normal;
    font-weight: 400;
    line-height: 100%;
    letter-spacing: 1.62px;
    text-transform: uppercase;
    margin: 0;
  }

  .academy-course__title {
    color: #111;
    text-align: center;
    font-family: "Playfair Display", serif;
    text-transform: uppercase;
    margin: 0 0 20px;
  }

  .academy-course__text {
    color: #111;
    text-align: center;
    margin: 0 auto 70px;
    max-width: 812px;
  }

  .academy-course__container>div {
    display: grid;
    grid-template-columns: 1.25fr .75fr;
    gap: 5.052vw;
    align-items: center;
  }

  .academy-course__right {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
  }

  .academy-course__container img {
    width: 100%;
    object-fit: cover;
  }

  .academy-course__rightTitle {
    color: #000;
    font-family: "Open Sans", sans-serif;
    text-transform: uppercase;
    margin: 0 0 15px;
    font-size: 26px;
    letter-spacing: 0;
  }

  .academy-course__rightText {
    color: #111;
    margin: 0 0 40px;
  }

  .academy-course__rightLink {
    color: #FFF;
    text-align: center;
    font-family: "Open Sans", sans-serif;
    font-size: 16px;
    font-style: normal;
    font-weight: 400;
    line-height: normal;
    text-transform: uppercase;
    display: flex;
    padding: 15px 70px;
    justify-content: center;
    align-items: center;
    gap: 10px;
    background: #00004E;
    transition: .5s;
  }

  .academy-course__rightLink:hover {
    background: #332CB1;
    color: #fff;
    transition: .5s;
  }

  .academy-course__bottomTitle {
    color: #000;
    text-align: center;
    font-family: "Playfair Display", serif;
    text-transform: uppercase;
    margin: 100px 0 20px;
  }

  .academy-course__bottomText {
    color: #111;
    text-align: center;
    max-width: 899px;
    margin: 0 auto;
  }

  @media (max-width: 768px) {
    .academy-course__container>div {
      display: grid;
      grid-template-columns: 1fr;
      gap: 5.052vw;
      align-items: center;
    }

    .academy-course__title {
      font-size: 40px;
    }
  }

  /* FEATURES */
  .academy-features {
    background: #F6F6F6;
  }

  .academy-features__container {
    padding: 100px 25px;
    text-align: center;
  }

  .academy-features__title {
    color: #000;
    text-align: center;
    font-family: "Playfair Display", serif;
    text-transform: uppercase;
    margin: 0 0 80px;
  }

  .academy-features__container>div {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr 1fr;
    gap: 40px;
    text-align: center;
  }

  .academy-features__container img {
    width: 80%;
    border-radius: 100%;
    aspect-ratio: 1/1;
    object-fit: cover;
    margin: 0 auto;
  }

  .academy-features__cardTitle {
    color: #000;
    text-align: center;
    font-family: "Open Sans", sans-serif;
    font-size: 26px;
    font-style: normal;
    font-weight: 600;
    line-height: 120%;
    text-transform: uppercase;
    margin: 30px 0 10px;
  }

  .academy-features__cardText {
    color: #111;
    text-align: center;
    margin: 0;
  }

  .academy-features__button {
    color: #FFF;
    text-align: center;
    font-family: "Open Sans";
    font-size: 16px;
    font-style: normal;
    font-weight: 400;
    line-height: normal;
    text-transform: uppercase;
    padding: 15px 70px;
    justify-content: center;
    align-items: center;
    gap: 10px;
    background: #00004E;
    margin-top: 80px;
    display: inline-block;
    transition: .5s;
  }

  .academy-features__button:hover {
    background: #332CB1;
    color: #fff;
    transition: .5s;
  }

  @media (max-width: 768px) {
    .academy-features__container>div {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 40px;
      text-align: center;
    }

    .academy-features__title {
      font-size: 40px;
      margin: 0 0 50px;
    }
  }
</style>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

{% assign image1_url = images['kz-diploma.png'] | image_url: width: '1000' %}
{% assign image2_url = images['kk-academy-slide2.jpg'] | image_url: width: '1000' %}
{% assign image3_url = images['kk-academy-slide3.jpg'] | image_url: width: '1000' %}
{% assign slide1_text = 'templates.academy.hero.slide1Text' | t %}
{% assign slide1_Subtitle = 'templates.academy.hero.slide1Subtitle' | t %}
{% assign slide2_text = 'templates.academy.hero.slide2Text' | t %}
{% assign slide2_Subtitle = 'templates.academy.hero.slide2Subtitle' | t %}
{% assign slide3_text = 'templates.academy.hero.slide3Text' | t %}
{% assign slide3_Subtitle = 'templates.academy.hero.slide3Subtitle' | t %}
{% assign slideButton = 'templates.academy.hero.slideButton' | t %}
{% assign slide1title = 'templates.academy.hero.slide1title' | t %}
{% assign slide2title = 'templates.academy.hero.slide2title' | t %}
{% assign slide3title = 'templates.academy.hero.slide3title' | t %}

{% comment %} <section class="products-hero">
  <div class="swiper">
    <!-- Additional required wrapper -->
    <div class="swiper-wrapper">
      {% render 'slide', slideTitle: slide1title, slideSubtitle: slide1_Subtitle, slideText: slide1_text, btnText: slideButton, slideImg: image1_url, btnLink:
      '#academy-story' %}

      {% render 'slide', slideTitle: slide2title, slideSubtitle: slide2_Subtitle, slideText: slide2_text, btnText: slideButton, slideImg: image2_url, btnLink: '#academy-story' %}

      {% render 'slide', slideTitle: slide3title, slideSubtitle: slide3_Subtitle, slideText: slide3_text, btnText: slideButton, slideImg: image3_url, btnLink: '#academy-story' %}
    </div>
    <!-- If we need pagination -->
    <div class="swiper-pagination"></div>

    <!-- If we need navigation buttons -->
    <div class="swiper-button-prev"></div>
    <div class="swiper-button-next"></div>
  </div>
</section> {% endcomment %}

{% comment %} NEW HERO {% endcomment %}
<style>
  .productsHero {
    position: relative;
  }

  .productsHero__container {
    max-width: 1600px;
    width: 100%;
    margin: 0 auto;
    padding: 120px 20px 150px;
    z-index: 3;
    position: relative;
  }

  .productsHero__subtitle {
    color: #F32652;
    text-shadow: 0px 4px 44px rgba(0, 0, 78, 0.25);
    font-family: "Open Sans";
    font-size: 18px;
    font-style: normal;
    font-weight: 400;
    line-height: 100%; /* 18px */
    letter-spacing: 0.9px;
    text-transform: uppercase;
    margin-bottom: 5px;
    display: block;
  }

  .productsHero__content {
    width: 600px;
  }

  .productsHero__titleBox {
    height: 250px;
    position: relative;
    overflow: hidden;
  }

  .productsHero__title1,
  .productsHero__title2,
  .productsHero__title3 {
    position: absolute;
    color: #fff;
    font-family: "Playfair Display", serif;
    font-size: 40px;
    font-style: normal;
    font-weight: 500;
    line-height: 140%;
    letter-spacing: 3.6px;
    text-transform: uppercase;
  }

  .productsHero__title2,
  .productsHero__title3 {
    bottom: -600px;
  }

  .productsHero__textBox {
    height: 400px;
    position: relative;
    overflow: hidden;
  }

  .productsHero__text1,
  .productsHero__text2,
  .productsHero__text3 {
    position: absolute;
    color: #fff;
    font-family: "Open Sans";
    font-size: 16px;
    font-style: normal;
    font-weight: 400;
    line-height: 150%;
  }

  .productsHero__text2,
  .productsHero__text3 {
    bottom: -600px;
  }

  .productsHero__text1 a,
  .productsHero__text2 a,
  .productsHero__text3 a {
    color: #fff;
    text-align: center;
    font-family: "Open Sans";
    font-size: 18px;
    font-style: normal;
    font-weight: 400;
    line-height: normal;
    text-transform: uppercase;
    display: inline-flex;
    height: 52px;
    padding: 15px 70px;
    align-items: center;
    gap: 10px;
    flex-shrink: 0;
    border: 1px solid #fff;
    margin: 40px 0 0;
    transition: .5s;
  }

  .productsHero__text1 a:hover,
  .productsHero__text2 a:hover,
  .productsHero__text3 a:hover {
    background: #fff;
    color: #00004E;
    transition: .5s;
  }

  .productsHero__backgroundImg {
    position: absolute;
    top: 0;
    left: 0;
    z-index: 1;
    height: 100%;
    width: 75vw;
    object-fit: cover;
    object-position: right;
  }

  .productsHero__img1,
  .productsHero__img2,
  .productsHero__img3 {
    position: absolute;
    top: 0;
    right: 0;
    z-index: 0;
    height: 100%;
    object-fit: cover;
    display: block;
    width: 100%;
  }

  .productsHero__img2,
  .productsHero__img3 {
    opacity: 0;
  }

  .productsHero .controls {
    position: absolute;
    z-index: 3;
    bottom: 50px;
    display: flex;
    gap: 40px;
    align-items: center;
    width: 100%;
    justify-content: center;
  }

  .productsHero .controls button.active {
    opacity: 1;
    transition: .3s;
    transform: scale(1.5);
  }
  
  .productsHero .controls button {
    width: 7.5px;
    height: 7.5px;
    background-color: #F32652;
    opacity: .5;
    color: #F32652;
    border: none;
    border-radius: 100px;
    transition: .3s;
  }

  @media (max-width: 1440px) {
    .productsHero__content {
      width: 500px;
    }

    .productsHero__title1,
    .productsHero__title2,
    .productsHero__title3 {
      font-size: 32px;
      line-height: 140%;
    }

    .productsHero__titleBox {
      height: 200px;
    }

    .productsHero__text1,
    .productsHero__text2,
    .productsHero__text3 {
      font-size: 14px;
    }
  }

  @media (max-width: 1279px) {
    .productsHero__content {
      width: 100%;
    }

    .productsHero__container {
      background: #00004ecc;
    }

    .productsHero__backgroundImg {
      display: none;
    }

    .productsHero__title1,
    .productsHero__title2,
    .productsHero__title3 {
      font-size: 24px;
      line-height: 28px;
    }

    .productsHero__titleBox {
      height: 150px;
    }

    .productsHero__text1,
    .productsHero__text2,
    .productsHero__text3 {
      font-size: 12px;
    }

    .productsHero__img1,
    .productsHero__img2,
    .productsHero__img3 {
      object-position: 80%;
    }

    .productsHero .controls {
      margin-left: -20px;
    }
  }

  .products-progressBar1 {
    width: 0px;
    height: 5px;
    background: #fff;
    display: block;
    position: absolute;
    z-index: 3;
    bottom: 50px;
    z-index: 10;
    border-radius: 4px;
    box-shadow: 0 0 10px rgba(255,255,255, .5);
  }
  
  .products-progressBar2 {
    width: 100px;
    height: 5px;
    background: #fff;
    display: block;
    position: absolute;
    z-index: 3;
    bottom: 50px;
    z-index: 10;
    opacity: .25;
    border-radius: 4px;
  }

  @media (max-width: 600px) {
    .productsHero .controls {
      right: 20px;
      width: auto;
      bottom: 20px;
    }

    .products-progressBar1,
    .products-progressBar2 {
      left: 20px;
      bottom: 20px;
    }
  }
</style>

<section class="productsHero">
  <div class="productsHero__container">
    <div class="productsHero__content">
      <span class="productsHero__subtitle">Kazumasa Kawasaki</span>
      <div class="productsHero__titleBox">
        <h1 class="productsHero__title1">
          {{ 'templates.academy.hero.slide1title' | t }}
        </h1>

        <h1 class="productsHero__title2">
          {{ 'templates.academy.hero.slide2title' | t }}
        </h1>

        <h1 class="productsHero__title3">
          {{ 'templates.academy.hero.slide3title' | t }}
        </h1>

      </div>
      <div class="productsHero__textBox">
        <p class="productsHero__text1">

        <b>
          {{ 'templates.academy.hero.slide1Subtitle' | t }}
        </b><br><br>
        {{ 'templates.academy.hero.slide1Text' | t }}
        <br>
        <a href="#academy-story">
          {{ 'templates.academy.hero.slideButton' | t }}
        </a>
        </p>

        <p class="productsHero__text2">
          <b>
            {{ 'templates.academy.hero.slide2Subtitle' | t }}
          </b><br><br>
          {{ 'templates.academy.hero.slide2Text' | t }}
          <br>
          <a href="#academy-story">
            {{ 'templates.academy.hero.slideButton' | t }}
          </a>
        </p>

        <p class="productsHero__text3">
          <b>
            {{ 'templates.academy.hero.slide3Subtitle' | t }}
          </b><br><br>
          {{ 'templates.academy.hero.slide3Text' | t }}
          <br>
          <a href="#academy-story">
            {{ 'templates.academy.hero.slideButton' | t }}
          </a>
        </p>
      </div>
    </div>

    <div class="controls">
      <button id="group1Btn" data-label="group1Start"></button>
      <button id="group2Btn" data-label="group2Start"></button>
      <button id="group3Btn" data-label="group3Start"></button>
    </div>

    <span class="products-progressBar1"></span>
    <span class="products-progressBar2"></span>
  </div>

  <img class="productsHero__backgroundImg" src="https://cdn.shopify.com/s/files/1/0892/7651/4595/files/kk-products-hero-blue-background.svg?v=1724993611" >

  {{ images['kz-diploma.png'] | image_url: width: 1000 | image_tag: class: 'productsHero__img1' }}
  
  {{ images['kk-academy-slide2.jpg'] | image_url: width: 1000 | image_tag: class: 'productsHero__img2' }}
  
  {{ images['kk-academy-slide3.jpg'] | image_url: width: 1000 | image_tag: class: 'productsHero__img3' }}

</section>

<script>

// Function to update active button
function setActiveButton(label) {

  progressBarAnimation()

  document.querySelectorAll(".controls button").forEach((button) => {
    button.classList.toggle("active", button.dataset.label === label);
  });
}

// Combined Timeline
var tlCombined = gsap.timeline({ repeat: -1 });

// Group 1 (Title 1, Text 1, Image 1 fades out)
tlCombined.add("group1Start") // Label for the start of group 1
  .call(() => setActiveButton("group1Start")) // Update active button
  .to([".productsHero__title1", ".productsHero__text1", ".productsHero__img1"], {
    bottom: '-600px',
    opacity: 0,
    duration: 0.75,
    delay: 7.5
  });

// Group 2 (Title 2, Text 2, Image 2 fades in)
tlCombined.add("group2Start") // Label for the start of group 2
  .call(() => setActiveButton("group2Start")) // Update active button
  .to([".productsHero__title2", ".productsHero__text2", ".productsHero__img2"], {
    bottom: 'auto',
    opacity: 1,
    duration: 1
  }, "<")
  .to([".productsHero__title2", ".productsHero__text2", ".productsHero__img2"], {
    bottom: '-600px',
    opacity: 0,
    duration: 0.75,
    delay: 7.5
  });

// Group 3 (Title 3, Text 3, Image 3 fades in)
tlCombined.add("group3Start") // Label for the start of group 3
  .call(() => setActiveButton("group3Start")) // Update active button
  .to([".productsHero__title3", ".productsHero__text3", ".productsHero__img3"], {
    bottom: 'auto',
    opacity: 1,
    duration: 1
  }, "<")
  .to([".productsHero__title3", ".productsHero__text3", ".productsHero__img3"], {
    bottom: '-600px',
    opacity: 0,
    duration: 0.75,
    delay: 7.5
  });

// Return to Group 1
tlCombined.to([".productsHero__title1", ".productsHero__text1", ".productsHero__img1"], {
  bottom: 'auto',
  opacity: 1,
  duration: 1
}, "<");

// Get button elements
const buttons = document.querySelectorAll(".controls button");

// Function to update active button class
function updateActiveButton(activeLabel) {
  buttons.forEach((button) => {
    if (button.dataset.label === activeLabel) {
      button.classList.add("active");
    } else {
      button.classList.remove("active");
    }
  });
}

// Button controls
document.getElementById("group1Btn").addEventListener("click", function () {
  tlCombined.seek("group1Start").play();
  updateActiveButton("group1Start");
});

document.getElementById("group2Btn").addEventListener("click", function () {
  tlCombined.seek("group2Start").play();
  updateActiveButton("group2Start");
});

document.getElementById("group3Btn").addEventListener("click", function () {
  tlCombined.seek("group3Start").play();
  updateActiveButton("group3Start");
});

const progressBarAnimation = () => {

  const newTl = gsap.timeline()

  newTl.to(".products-progressBar1", {
    width: "0",
    duration: .2
  })

  newTl.to(".products-progressBar1", {
    width: "100px",
    duration: 8.5
  })
}

</script>
{% comment %} NEW HERO {% endcomment %}

<script>
  const swiper = new Swiper('.swiper', {
    // Optional parameters
    direction: 'horizontal',
    loop: true,

    // If we need pagination
    pagination: {
      el: '.swiper-pagination',
    },

    // Navigation arrows
    navigation: {
      nextEl: '.swiper-button-next',
      prevEl: '.swiper-button-prev',
    },

    autoplay: {
      delay: 5000,
    },
  });
</script>

<section id="academy-story" class="academy-story">
  <div class="academy-story__container page-width">
    <h3 class="academy-story__topText academy-story__anim1">ACADEMY</h3>
    <h2 class="academy-story__title academy-story__anim1 heading">KAZUMASA KAWASAKI</h2>
    <h3 class="academy-story__subtitle academy-story__anim1">
      {{ 'templates.academy.story.title' | t }}
    </h3>
    <p class="academy-story__text academy-story__anim1 bodyText">
      {{ 'templates.academy.story.text1' | t }}
      <br><br>
      {{ 'templates.academy.story.text2' | t }}
    </p>
    <a class="academy-story__link" href="{% unless shop.locale == 'en' %}/{{ shop.locale }}{% endunless %}/#contact_section">
      {{ 'templates.academy.story.button' | t }}
    </a>
  </div>
</section>

<section class="academy-course">
  <div class="academy-course__container page-width">
    <span class="academy-course__topText academy-course__anim1">Kazumasa Kawasaki</span>
    <h2 class="academy-course__title academy-course__anim1 heading">
      {{ 'templates.academy.course.sectionTitle' | t }}
    </h2>
    <p class="academy-course__text academy-course__anim1 bodyText">
      {{ 'templates.academy.course.topSubtitle' | t }}
    </p>
    <div>
      <img class="academy-course__img academy-course__anim2"
        src="https://cdn.shopify.com/s/files/1/0892/7651/4595/files/63aa50857e9f6a57ab233f676a2ca893.png?v=1725006617" />
      <div class="academy-course__right">
        <h3 class="academy-course__rightTitle academy-course__anim2 heading">
          {{ 'templates.academy.course.midTitle' | t }}
        </h3>
        <p class="academy-course__rightText academy-course__anim2 bodyText">
          {{ 'templates.academy.course.midText' | t }}
        </p>
        <a class="academy-course__rightLink" href="{% unless shop.locale == 'en' %}/{{ shop.locale }}{% endunless %}/#contact_section">
          {{ 'templates.academy.course.button' | t }}
        </a>
      </div>
    </div>
    <h3 class="academy-course__bottomTitle academy-course__anim3 heading">
      {{ 'templates.academy.course.bottomTitle' | t }}
    </h3>
    <p class="academy-course__bottomText academy-course__anim3 bodyText">
      {{ 'templates.academy.course.bottomText' | t }}
    </p>
  </div>
</section>

{% section 'academy-slider' %}

<section class="academy-features">
  <div class="academy-features__container page-width">
    <h2 class="academy-features__title academy-features__anim1 heading">
      {{ 'templates.academy.features.sectionTitle' | t }}
    </h2>
    <div>
      <div class="academy-features__card academy-features__anim2">
        {{ images['kk-academy-slide3.jpg'] | image_url: width: 1000 | image_tag: class: 'academy-features__cardImg' }}
        <h3 class="academy-features__cardTitle">
          {{ 'templates.academy.features.card1title' | t }}
        </h3>
        <p class="academy-features__cardText bodyText">
          {{ 'templates.academy.features.card1text' | t }}
        </p>
      </div>
      <div class="academy-features__card academy-features__anim2">
        <img class="academy-features__cardImg"
          src="https://cdn.shopify.com/s/files/1/0892/7651/4595/files/kk-home-academy.jpg?v=1724648347" />
        <h3 class="academy-features__cardTitle">
          {{ 'templates.academy.features.card2title' | t }}
        </h3>
        <p class="academy-features__cardText bodyText">
          {{ 'templates.academy.features.card2text' | t }}
        </p>
      </div>
      <div class="academy-features__card academy-features__anim2">
        <img class="academy-features__cardImg"
          src="https://cdn.shopify.com/s/files/1/0892/7651/4595/files/63aa50857e9f6a57ab233f676a2ca893.png?v=1725006617" />
        <h3 class="academy-features__cardTitle">
          {{ 'templates.academy.features.card3title' | t }}
        </h3>
        <p class="academy-features__cardText bodyText">
          {{ 'templates.academy.features.card3text' | t }}
        </p>
      </div>
      <div class="academy-features__card academy-features__anim2">
        <img class="academy-features__cardImg"
          src="https://cdn.shopify.com/s/files/1/0892/7651/4595/files/kz-diploma.png?v=1726201030" />
        <h3 class="academy-features__cardTitle">
          {{ 'templates.academy.features.card4title' | t }}
        </h3>
        <p class="academy-features__cardText bodyText">
          {{ 'templates.academy.features.card4text' | t }}
        </p>
      </div>
    </div>
    <a class="academy-features__button" href="{% unless shop.locale == 'en' %}/{{ shop.locale }}{% endunless %}/#contact_section">
      {{ 'templates.academy.features.button' | t }}
    </a>
  </div>
</section>

{% section 'academy-reviews' %}

{% comment %} FAQ {% endcomment %}
<style>
  .faq-accordion__title {
    color: #111;
    text-align: center;
    font-family: "Playfair Display", serif;
    text-transform: uppercase;
  }

  .faq-accordion__category {
    margin: 60px 0 20px;
    text-align: center;
    font-family: "Bodoni Moda", serif;
    font-size: 40px;
    font-style: normal;
    font-weight: 400;
    line-height: normal;
    letter-spacing: 2px;
    text-transform: uppercase;
  }

  .faq-accordion__container {
    padding: 100px 25px;
    color: #000;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .faq-accordion .collapse {
    border-radius: 0;
    background: #F6F6F6;
    padding: 25px;
  }

  .faq-accordion .collapse:not(:last-child) {
    margin-bottom: 10px;
  }

  .faq-accordion .collapse-title {
    font-family: 'Open Sans', sans-serif;
    font-size: 18px;
    font-style: normal;
    font-weight: 600;
    line-height: normal;
    text-transform: uppercase;
  }

  .faq-accordion .collapse h3 {
    font-family: 'Open Sans', sans-serif;
    font-size: 20px;
    font-weight: 600;
    line-height: 1.2;
    margin: 10px 0;
  }

  .faq-accordion .collapse-content p {
    margin-bottom: 20px;
    color: #111;
    font-family: "Open Sans", sans-serif;
    font-size: 16px;
    font-style: normal;
    font-weight: 400;
    line-height: 150%;
  }

  .faq-accordion__topText {
    color: #111;
    text-align: center;
    margin: 20px 0 75px;
  }

  .faq-accordion__button {
    color: #FFF;
    text-align: center;
    font-family: "Open Sans", sans-serif;
    font-size: 16px;
    font-style: normal;
    font-weight: 400;
    line-height: normal;
    text-transform: uppercase;
    display: inline-flex;
    padding: 15px 70px;
    justify-content: center;
    align-items: center;
    gap: 10px;
    background: #00004E;
    margin: 60px auto 0;
    display: inline-block;
    transition: .5s;
  }

  .faq-accordion__button:hover {
    background: #332CB1;
    color: #fff;
    transition: .5s;
  }

  @media (max-width: 600px) {
    .faq-accordion__container {
      padding: 50px 25px;
    }

    .faq-accordion__title {
      font-size: 40px;
    }

    .faq-accordion__category {
      margin: 40px 0 20px;
      font-size: 32px;
    }

    .faq-accordion .collapse-title {
      font-size: 18px;
    }

    .faq-accordion .collapse h3 {
      font-size: 16px;
    }

    .faq-accordion .collapse-content p {
      font-size: 16px;
      line-height: 1.5;
    }
  }
</style>

<section class="faq-accordion">
  <div class="faq-accordion__container page-width">
    <h1 class="faq-accordion__title faq-accordion__anim1 heading">
      {{ 'templates.academy.FAQ.sectionTitle' | t }}
    </h1>
    <p class="faq-accordion__topText faq-accordion__anim1 bodyText">
      {{ 'templates.academy.FAQ.subtitle' | t }}
    </p>

    <div class="collapse collapse-plus">
      <input type="radio" name="my-accordion-3" />
      <div class="collapse-title text-xl font-medium">
        {{ 'templates.academy.FAQ.FAQ1.title1' | t }}
      </div>
      <div class="collapse-content">
        <p>
          {{ 'templates.academy.FAQ.FAQ1.text1' | t }}
        </p>
      </div>
    </div>

    <div class="collapse collapse-plus">
      <input type="radio" name="my-accordion-3" />
      <div class="collapse-title text-xl font-medium">
        {{ 'templates.academy.FAQ.FAQ1.title2' | t }}
      </div>
      <div class="collapse-content">
        <p>
          {{ 'templates.academy.FAQ.FAQ1.text2' | t }}
        </p>
      </div>
    </div>

    <div class="collapse collapse-plus">
      <input type="radio" name="my-accordion-3" />
      <div class="collapse-title text-xl font-medium">
        {{ 'templates.academy.FAQ.FAQ1.title3' | t }}
      </div>
      <div class="collapse-content">
        <p>
          {{ 'templates.academy.FAQ.FAQ1.text3' | t }}
        </p>
      </div>
    </div>

    <div class="collapse collapse-plus">
      <input type="radio" name="my-accordion-3" />
      <div class="collapse-title text-xl font-medium">
        {{ 'templates.academy.FAQ.FAQ1.title4' | t }}
      </div>
      <div class="collapse-content">
        <p>
          {{ 'templates.academy.FAQ.FAQ1.text4' | t }}
        </p>
      </div>
    </div>

    <a href="{% unless shop.locale == 'en' %}/{{ shop.locale }}{% endunless %}/pages/faq" class="faq-accordion__button">FAQ</a>

  </div>
</section>

<script>
  document.addEventListener('click', function(event) {
    // Check if the clicked element is the desired input
    if (event.target.matches('input[name="my-accordion-3"]')) {
      // Find the parent div with the class "collapse-plus"
      const parentCollapse = event.target.closest('.collapse-plus');
      if (parentCollapse) {
        // Toggle between the classes
        if (parentCollapse.classList.contains('collapse-close')) {
          parentCollapse.classList.remove('collapse-close');
          parentCollapse.classList.add('collapse-open');
        } else if (parentCollapse.classList.contains('collapse-open')) {
          parentCollapse.classList.remove('collapse-open');
          parentCollapse.classList.add('collapse-close');
        } else {
          parentCollapse.classList.add('collapse-open');
        }
      }
    }
  });
</script>

{% comment %} FAQ {% endcomment %}

<script>

  const classes = [
    '.academy-story__anim1',
    '.academy-course__anim1',
    '.academy-course__anim2',
    '.academy-course__anim3',
    '.academy-features__anim1',
    '.academy-features__anim2',
    '.faq-accordion__anim1',
    '.faq-accordion__anim2'
  ]

  classes.forEach((cls) => {
    gsap.from(cls, {
      bottom: "-100",
      position: 'relative',
      opacity: 0,
      duration: 1,
      delay: 0.1,
      ease: "power3.out",
      stagger: 0.1,
      scrollTrigger: {
        trigger: cls,
        start: "top 80%",
      }
    })
  })

</script>